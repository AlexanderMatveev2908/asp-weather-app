<div class="root">
  @if(!resSetup2FA()) {
  <div class="w-[250px]">
    <app-btn-shadow
      appUseSpanDir
      [type]="'button'"
      [spanProps]="spanProps"
      appUseIDsDir
      [testId]="'setup_2fa_form__submit'"
      [btnStateProps]="btnStateT()"
      [listenersProps]="btnListeners()"
    />
  </div>
  }@else {
  <div class="root__response">
    <a
      [attr.data-testid]="'setup_2fa_form__qr_code'"
      [href]="resSetup2FA()?.totpSecretQrCode"
      download="qr_code.png"
      class="response__qr_code"
    >
      <img [src]="resSetup2FA()?.totpSecretQrCode" alt="totp qr_code" />
    </a>

    <div class="response__btns">
      <app-cpy-paste
        [txt]="resSetup2FA()?.totpSecret ?? ''"
        [label]="'TOTP Secret'"
        [confSwap]="confSwap()"
        [optionalDep]="optionalDep()"
      />

      <app-cpy-paste
        [txt]="prettyPrintedCodes()"
        [label]="'Backup Codes'"
        [confSwap]="confSwap()"
        [optionalDep]="optionalDep()"
      />
    </div>

    <div class="response__zip">
      <app-link-shadow
        appUseIDsDir
        [testId]="'setup_2fa_form__zip'"
        appUseSpanDir
        [spanProps]="spanZipProps"
        [path]="resSetup2FA()?.zipFile ?? ''"
        [download]="'2FA.zip'"
      />
    </div>
  </div>
  }
</div>
